pipeline {
    agent any

    stages {
        stage("Verify ğŸ‘€") {
            steps {
                sh "java -version"
                sh "mvn -version"
                sh "npm -version"
            }
        }

        stage("Test ğŸ§ª") {
            steps {
                sh "mvn test"
            }
        }

        stage("Package ğŸ“¦") {
            steps {
                sh "mvn compile"
                sh "npm install"
            }
            // mvn clean compile/package
        }

        stage("Deliver ğŸšš") {
            sh "scripts/deploy.sh"
            // scp
        }


        stage("Start ğŸš€") {
            // sh kill+launch
            sh "scripts/start.sh"
        }
    }
}