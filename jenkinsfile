pipeline {
    agent any

    stages {
        stage("preview") {
            steps {
                sh "ls -la"
            }
        }
        /*
        stage("Checkout") {
            steps { // blbalbalblba
                checkout scm
                git branch: 'jenkins', url: 'https://github.com/BlooSkyd/Sirius.git', credentialsId: 'github-pat'
            }
        }*/
        
        stage("Verify ğŸ‘€") {
            steps {
                sh "git --version"
                sh "java -version"
                sh "mvn -version"
                sh "npm -version"
            }
        }

        stage("Test ğŸ§ª") {
            steps {
                echo "Lancement des tests"
                //sh "mvn test"
            }
        }

        stage("Package ğŸ“¦") {
            steps {
                sh "mvn compile"
                sh "npm install"
            }
        }

        stage("Deliver ğŸšš") {
            steps {
                sh "scripts/deploy.sh"
            }
        }

        stage("Start ğŸš€") {
            steps {
                sh "scripts/start.sh"
            }
        }
    }
}